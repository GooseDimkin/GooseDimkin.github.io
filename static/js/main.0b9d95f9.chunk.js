(this["webpackJsonpcontact-list"]=this["webpackJsonpcontact-list"]||[]).push([[0],{12:function(t,e,n){t.exports={contact_block:"Contact_contact_block__3aYZN",user_photo:"Contact_user_photo__219qR",name:"Contact_name__2mGp4",call_button:"Contact_call_button__12V2_",edit_button:"Contact_edit_button__9VOxn",link:"Contact_link__2PQGz"}},13:function(t,e,n){t.exports={main_content:"App_main_content__2UJtE",user_name:"App_user_name__433XO",logout_button:"App_logout_button__1ItQU",new_contact_button:"App_new_contact_button__3Z6s7",csv_contact_button:"App_csv_contact_button__1RTL8",contacts:"App_contacts__1ZE4M"}},16:function(t,e,n){t.exports={label:"LoginPage_label__EuZeR",input:"LoginPage_input__2IKi0",button:"LoginPage_button__27LSx",content_center:"LoginPage_content_center__1BJ_Z"}},34:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var a=n(0),c=n.n(a),o=n(20),r=n.n(o),s=(n(34),n(27)),i=n(26),u=n(13),l=n.n(u),d=n(3),_=n(11),b=n(5),C=n.n(b),m=n(29),j=n(4),A="GET_CONTACT_NAME",v="GET_CONTACT_PHONE",g="ADD_CONTACT",h="CLEAR_FIELDS",p={contacts:[],currentContactName:"",currentContactPhone:""},O=function(t){return{type:A,currentContactName:t}},N=function(t){return{type:v,currentContactPhone:t}},f=function(t){return{type:g,newContact:t}},x=function(){return{type:h}},P=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case A:return Object(j.a)(Object(j.a)({},t),{},{currentContactName:e.currentContactName});case v:return Object(j.a)(Object(j.a)({},t),{},{currentContactPhone:e.currentContactPhone});case g:return Object(j.a)(Object(j.a)({},t),{},{contacts:[].concat(Object(m.a)(t.contacts),[e.newContact])});case h:return Object(j.a)(Object(j.a)({},t),{},{currentContactName:"",currentContactPhone:""});default:return t}},E=n(1);var S=Object(_.b)((function(t){return{currentContactName:t.contactsData.currentContactName,currentContactPhone:t.contactsData.currentContactPhone}}),{getContactNameAC:O,getContactPhoneAC:N,addContactAC:f,clearFieldsAC:x})((function(t){var e=c.a.createRef(),n=c.a.createRef();return Object(E.jsx)("div",{className:t.modalAddContactActive?"".concat(C.a.modal," ").concat(C.a.active):C.a.modal,onClick:function(){return t.setModalAddContactActive(!1)},children:Object(E.jsxs)("div",{className:t.modalAddContactActive?"".concat(C.a.modal__content," ").concat(C.a.active):C.a.modal__content,onClick:function(t){return t.stopPropagation()},children:[Object(E.jsx)("div",{className:C.a.label,children:"New contact"}),Object(E.jsx)("div",{className:C.a.content_center,children:Object(E.jsx)("input",{className:C.a.input,ref:e,value:t.currentContactName,onChange:function(){var n=e.current.value;return t.getContactNameAC(n)},placeholder:"Contact Name",type:"text"})}),Object(E.jsx)("div",{className:C.a.content_center,children:Object(E.jsx)("input",{type:"number",className:C.a.input,ref:n,value:t.currentContactPhone,onChange:function(){var e=n.current.value;return t.getContactPhoneAC(e)},placeholder:"Contact Phone"})}),Object(E.jsx)("div",{className:C.a.content_center,children:Object(E.jsx)("button",{className:C.a.save_button,onClick:function(){if(e.current.value){if(n.current.value){var a=1;a+=Math.floor(99*Math.random());var c={name:t.currentContactName,phone:t.currentContactPhone,avatar:"https://picsum.photos/seed/"+a+"/200/200"},o=[];return(o=JSON.parse(localStorage.getItem("contacts"))||[]).push(c),o.sort((function(t,e){return t.name.toLowerCase()<e.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0})),localStorage.setItem("contacts",JSON.stringify(o)),t.clearFieldsAC(),t.setModalAddContactActive(!1)}alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430.")}else alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430.")},children:"Save"})}),Object(E.jsx)("div",{className:C.a.content_center,children:Object(E.jsx)("button",{className:C.a.close_button,onClick:function(){return t.setModalAddContactActive(!1)},children:"Close"})})]})})})),I=n(6),w=n.n(I);var L=Object(_.b)((function(t){return{currentContactName:t.contactsData.currentContactName,currentContactPhone:t.contactsData.currentContactPhone}}),{getContactNameAC:O,getContactPhoneAC:N,addContactAC:f,clearFieldsAC:x})((function(t){var e=c.a.createRef(),n=c.a.createRef();return Object(E.jsx)("div",{className:t.modalEditContactActive?"".concat(w.a.modal," ").concat(w.a.active):w.a.modal,onClick:function(){return t.setModalEditContactActive(!1)},children:Object(E.jsxs)("div",{className:t.modalEditContactActive?"".concat(w.a.modal__content," ").concat(w.a.active):w.a.modal__content,onClick:function(t){return t.stopPropagation()},children:[Object(E.jsx)("div",{className:w.a.label,children:"Edit contact"}),Object(E.jsx)("div",{className:w.a.content_center,children:Object(E.jsx)("input",{className:w.a.input,ref:e,value:t.currentContactName,onChange:function(){var n=e.current.value;return t.getContactNameAC(n)},placeholder:"Contact Name",type:"text"})}),Object(E.jsx)("div",{className:w.a.content_center,children:Object(E.jsx)("input",{type:"number",className:w.a.input,ref:n,value:t.currentContactPhone,onChange:function(){var e=n.current.value;return t.getContactPhoneAC(e)},placeholder:"Contact Phone"})}),Object(E.jsx)("div",{className:w.a.content_center,children:Object(E.jsx)("button",{className:w.a.save_button,onClick:function(){if(e.current.value){if(n.current.value){var a=JSON.parse(localStorage.getItem("contacts")),c=localStorage.getItem("id"),o={name:t.currentContactName,phone:t.currentContactPhone,avatar:a[c].avatar};return a[c]=o,a.sort((function(t,e){return t.name.toLowerCase()<e.name.toLowerCase()?-1:t.name.toLowerCase()>e.name.toLowerCase()?1:0})),localStorage.setItem("contacts",JSON.stringify(a)),t.clearFieldsAC(),t.setModalEditContactActive(!1)}alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430.")}else alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043a\u043e\u043d\u0442\u0430\u043a\u0442\u0430.")},children:"Save"})}),Object(E.jsx)("div",{className:w.a.content_center,children:Object(E.jsx)("button",{className:w.a.close_button,onClick:function(){return t.setModalEditContactActive(!1)},children:"Close"})})]})})})),T=n(12),y=n.n(T);var k=function(t){return Object(E.jsxs)("div",{className:y.a.contact_block,children:[Object(E.jsx)("div",{onClick:t.setModalEditContactActive(!0),children:Object(E.jsx)("img",{onClick:function(){return localStorage.setItem("id",t.id)},className:y.a.edit_button,src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABBSURBVHgB7cy7DQAgEAJQRnIj968cwU9CYWHMIYnVkdDxAOKprJyFOisd7FA6OMHQwQ222ZLwJ4QD4UA4EBw/wQGKDlmPHK7ZGgAAAABJRU5ErkJggg==",alt:"edit"})}),Object(E.jsx)("div",{className:y.a.content_center,children:Object(E.jsx)("img",{className:y.a.user_photo,src:t.avatar,alt:"test"})}),Object(E.jsx)("div",{className:y.a.name,children:t.name}),Object(E.jsx)("a",{className:y.a.link,href:"tel:"+t.phone,children:Object(E.jsx)("button",{className:y.a.call_button,children:"Call"})})]})};var M=Object(_.b)((function(t){return{isLoggined:t.loginData.isLoggined}}),null)((function(t){var e,n,c=Object(a.useState)(!1),o=Object(i.a)(c,2),r=o[0],u=o[1],_=Object(a.useState)(!1),b=Object(i.a)(_,2),C=b[0],m=b[1],j=JSON.parse(localStorage.getItem("contacts"));if(j){e=function(t){var e=[],n=Object.keys(t[0]);e.push(n.join(","));var a,c=Object(s.a)(t);try{var o=function(){var t=a.value,c=n.map((function(e){var n=(""+t[e]).replace(/"/g,'\\"');return'"'.concat(n,'"')}));e.push(c.join(","))};for(c.s();!(a=c.n()).done;)o()}catch(r){c.e(r)}finally{c.f()}return e.join("\n")}(j);var A=-1;n=j.map((function(t){return Object(E.jsx)(k,{id:A+=1,setModalEditContactActive:function(){return m},name:t.name,phone:t.phone,avatar:t.avatar},t)}))}return Object(E.jsxs)("div",{className:l.a.main_content,children:[t.isLoggined&&localStorage.setItem("isAuth",!0),t.isLoggined&&localStorage.setItem("userName",t.state.loginData.userName),!localStorage.getItem("isAuth")&&Object(E.jsx)(d.a,{to:"/login"}),Object(E.jsxs)("div",{className:l.a.user_name,children:["Hello, ",localStorage.getItem("userName")]}),Object(E.jsx)("button",{className:l.a.logout_button,onClick:function(){localStorage.removeItem("isAuth"),localStorage.removeItem("userName"),localStorage.removeItem("contacts"),window.location.reload()},children:"Logout"}),Object(E.jsx)("button",{className:l.a.new_contact_button,onClick:function(){return u(!0)},children:"New Contact"}),Object(E.jsx)("button",{className:l.a.csv_contact_button,onClick:function(){return function(t){var e=new Blob([t],{type:"text/csv"}),n=window.URL.createObjectURL(e),a=document.createElement("a");a.setAttribute("hidden",""),a.setAttribute("href",n),a.setAttribute("download","download.csv"),document.body.appendChild(a),a.click(),document.body.removeChild(a)}(e)},children:"Download CSV"}),Object(E.jsx)(S,{modalAddContactActive:r,setModalAddContactActive:u}),Object(E.jsx)(L,{modalEditContactActive:C,setModalEditContactActive:m}),Object(E.jsx)("div",{className:l.a.contacts,children:n})]})})),R=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(e){var n=e.getCLS,a=e.getFID,c=e.getFCP,o=e.getLCP,r=e.getTTFB;n(t),a(t),c(t),o(t),r(t)}))},D=n(17),U=n(25),B="CHANGE_CURRENT_INPUT_TEXT",J="CHANGE_LOGIN_STATUS",F="SET_USER_NAME",Q={isLoggined:!1,currentInputText:"",userName:""},G=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case B:return Object(j.a)(Object(j.a)({},t),{},{currentInputText:e.currentInputText});case J:return Object(j.a)(Object(j.a)({},t),{},{isLoggined:e.isLoggined});case F:return Object(j.a)(Object(j.a)({},t),{},{userName:e.userName});default:return t}},H=Object(U.a)({loginData:G,contactsData:P}),K=Object(U.b)(H),Z=n(16),V=n.n(Z);var Y=Object(_.b)((function(t){return{currentInputText:t.loginData.currentInputText}}),{changeCurrentInputTextAC:function(t){return{type:B,currentInputText:t}},changeLoginStatusAC:function(t){return{type:J,isLoggined:t}},setUserName:function(t){return{type:F,userName:t}}})((function(t){var e=c.a.createRef();return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:V.a.label,children:"SignIn"}),Object(E.jsx)("div",{className:V.a.content_center,children:Object(E.jsx)("input",{className:V.a.input,type:"text",placeholder:"What's your name?",ref:e,onChange:function(){var n=e.current.value;return t.changeCurrentInputTextAC(n)},value:t.currentInputText})}),Object(E.jsx)("div",{className:V.a.content_center,children:Object(E.jsx)("button",{className:V.a.button,onClick:function(){e.current.value?(t.changeLoginStatusAC(!0),t.setUserName(t.currentInputText),t.history.push("/")):alert("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u0434\u043b\u044f \u043d\u0430\u0447\u0430\u043b\u0430.")},children:"Submit"})})]})})),W=Object(d.f)(Y);r.a.render(Object(E.jsx)(c.a.StrictMode,{children:Object(E.jsx)(D.a,{children:Object(E.jsxs)(_.a,{store:K,children:[Object(E.jsx)(d.b,{exact:!0,path:"/",render:function(){return Object(E.jsx)(M,{state:K.getState()})}}),Object(E.jsx)(d.b,{path:"/login",render:function(){return Object(E.jsx)(W,{})}})]})})}),document.getElementById("root")),R()},5:function(t,e,n){t.exports={modal:"AddContactPage_modal__1MiWT",active:"AddContactPage_active__1KnMe",modal__content:"AddContactPage_modal__content__TLGHc",label:"AddContactPage_label__7vQjs",input:"AddContactPage_input__1eMHf",save_button:"AddContactPage_save_button__t5Fz3",close_button:"AddContactPage_close_button__1rZpU",content_center:"AddContactPage_content_center__1rcCW"}},6:function(t,e,n){t.exports={modal:"EditContactPage_modal__3Epao",active:"EditContactPage_active__3iaDq",modal__content:"EditContactPage_modal__content__3sIwE",label:"EditContactPage_label__1BQOL",input:"EditContactPage_input__20rdt",save_button:"EditContactPage_save_button__2cFzM",close_button:"EditContactPage_close_button__2_IBb",content_center:"EditContactPage_content_center__qKGat"}}},[[45,1,2]]]);
//# sourceMappingURL=main.0b9d95f9.chunk.js.map